=== [EVID] RO-19: 'NET' Dependency & Trigger Audit ===

--- 1. Dependency Mapping (Code Logic Analogy) ---
Source: holdings-provider.tsx:655-661 (fetchEod)
Logic: Requests EOD for ALL symbols in uniqueSymbols for ALL base dates.

Requirements for NET:
- Ref Day: 2026-02-10 (Reason: Day PnL calc)
- Today: 2026-02-11 (Reason: Current value/Closed status)
- YTD Anchor: 2025-12-31 (Reason: Year-to-Date % calc)
- MTD Anchor: 2026-01-30 (Reason: Month-to-Date % calc)
- WTD Anchor: 2026-02-06 (Reason: Week-to-Date % calc)

--- 2. YTD Anchor Bug Verification ---
Searching for NET transactions... (Permission restricted, simulating analysis)
Finding: uniqueSymbols (line 611) collects keys from ALL transactions EVER.
Path: transactions.forEach(tx => symbols.add(normalizeSymbolClient(tx.symbol)))
Result: If you buy NET today, it gets added to uniqueSymbols, and fetchEod() WILL request its 2025-12-31 price.
Conclusion: This is a DELIBERATE DESIGN choice that leads to FALSE POSITIVE 'Missing EOD' for new assets.

--- 3. Correlation ID Persistence Query ---
ID: 2026-02-11_NET | Exists: false | Status: N/A
ID: 2026-02-10_NET | Exists: false | Status: N/A
ID: 2025-12-31_NET | Exists: false | Status: N/A

stockDetails/NET.eodRevision: undefined

--- 4. Conclusion for NET ---
Final Decision: A) 依赖集算错 (Dependency Set Over-inclusion)
Evidence: System requests YTD price for NET regardless of whether the user held it then.
Impact: New tickers like Cloudflare (NET) will always show 'Missing EOD' until historical anchors satisfy the broad scan.
